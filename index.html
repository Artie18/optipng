<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Optipng by Artie18</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Optipng</h1>
      <h2 class="project-tagline">Ruby Optipng Interface</h2>
      <a href="https://github.com/Artie18/optipng" class="btn">View on GitHub</a>
      <a href="https://github.com/Artie18/optipng/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/Artie18/optipng/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="optipng" class="anchor" href="#optipng" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Optipng</h1>

<p><a href="http://badge.fury.io/rb/optipng-r"><img src="https://badge.fury.io/rb/optipng-r.svg" alt="Gem Version"></a></p>

<p><strong>Optipng</strong> provides Ruby interface to the <a href="http://optipng.sourceforge.net/"><code>optipng</code></a> tool.
Some examples follow: (for details, see module documentation)</p>

<pre><code>require "optipng"

Optipng.available?        # will return true (or false)

Optipng.optimize(["foo.png", "empty.png", "nonexist.png"], { :level =&gt; 5 })

# will run 'optipng -o 5 foo.png bar.png empty.png'
# and then will return for example:
#   '#&lt;struct Optipng::Result succeed={"foo.png =&gt; -22.1}}, errors=[["empty.png", "Unrecognized image file format"], ["nonexist.png", "Can't open the input file"]]&gt;
</code></pre>

<p>It can be also run asynchronously by non-blocking way (with [<code>eventmachine</code>][4])
simply by giving block with one argument to <code>#optimize</code>. See documentation.</p>

<h3>
<a id="call-result" class="anchor" href="#call-result" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Call Result</h3>

<p>Result contains members <code>:success</code> and <code>:errors</code>. Sucess member contains
hash of successfully optimized files with ratio as value. Zero or
positive percent ratio means the same as file has been skipped so
already optimized. It's negative number against the number reported by
<code>optipng</code> so it means new size against the old size.</p>

<p>Errors contains array with pairs where first member of the pair is
filename and second the message. First one can be null if message isn't
strictly associated with concrete file. (But fortunately usually it is.)</p>

<h2>
<a id="contributing" class="anchor" href="#contributing" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Contributing</h2>

<ol>
<li>Fork it.</li>
<li>Create a branch (<code>git checkout -b 20101220-my-change</code>).</li>
<li>Commit your changes (<code>git commit -am "Added something"</code>).</li>
<li>Push to the branch (<code>git push origin 20101220-my-change</code>).</li>
<li>Create an <a href="https://github.com/Artie18/optipng/issues">Issue</a> with a link to your branch.</li>
<li>Enjoy a refreshing Orange Juice and wait.</li>
</ol>

<h2>
<a id="copyright" class="anchor" href="#copyright" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Copyright</h2>

<p>But original gem is broken, so this is the rebirth of it. </p>

<p>Copyright Â© 2015 <a href="http://rubyeventmachine.com/">Artyom Fedenko</a>. See <code>LICENSE.txt</code> for
further details.</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/Artie18/optipng">Optipng</a> is maintained by <a href="https://github.com/Artie18">Artie18</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
